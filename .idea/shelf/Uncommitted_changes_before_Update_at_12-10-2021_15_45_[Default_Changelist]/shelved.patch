Index: app/src/main/java/org/pondar/pacmankotlin/Game.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package org.pondar.pacmankotlin\r\n\r\nimport android.content.Context\r\nimport android.graphics.Bitmap\r\nimport android.graphics.BitmapFactory\r\nimport android.widget.TextView\r\nimport java.lang.Math.random\r\nimport java.lang.Math.sqrt\r\nimport java.util.ArrayList\r\nimport kotlin.math.pow\r\n\r\n\r\n/**\r\n *\r\n * This class should contain all your game logic\r\n */\r\n\r\nclass Game(private var context: Context,view: TextView) {\r\n\r\n        private var pointsView: TextView = view\r\n        private var points : Int = 0\r\n        //bitmap of the pacman\r\n        var pacBitmap: Bitmap\r\n        var coinBitmap: Bitmap\r\n\r\n        var pacx: Int = 0\r\n        var pacy: Int = 0\r\n\r\n        //did we initialize the coins?\r\n        var coinsInitialized = false\r\n\r\n        //the list of goldcoins - initially empty\r\n        var coins = ArrayList<GoldCoin>()\r\n\r\n        //a reference to the gameview\r\n        private lateinit var gameView: GameView\r\n\r\n        private var h: Int = 0\r\n        private var w: Int = 0 //height and width of screen\r\n\r\n\r\n    //The init code is called when we create a new Game class.\r\n    //it's a good place to initialize our images.\r\n    init {\r\n        var pacBitmapFactory = BitmapFactory.decodeResource(context.resources, R.drawable.pacman)\r\n        pacBitmap = Bitmap.createScaledBitmap(pacBitmapFactory,50,50,false);\r\n\r\n        var coinBitmapFactory = BitmapFactory.decodeResource(context.resources, R.drawable.coin)\r\n        coinBitmap = Bitmap.createScaledBitmap(coinBitmapFactory,50,50,false);\r\n    }\r\n\r\n\r\n    fun setGameView(view: GameView) {\r\n        this.gameView = view\r\n    }\r\n\r\n    //TODO initialize goldcoins also here\r\n    fun initializeGoldcoins()\r\n    {\r\n        //DO Stuff to initialize the array list with some coins.\r\n        var coin1 = GoldCoin(100, 100, false)\r\n        var coin2 = GoldCoin(200, 200, false)\r\n        var coin3 = GoldCoin(300, 300, false)\r\n        var coin4 = GoldCoin(400, 400, false)\r\n        var coin5 = GoldCoin(500, 500, false)\r\n        coins.add(coin1)\r\n        coins.add(coin2)\r\n        coins.add(coin3)\r\n        coins.add(coin4)\r\n        coins.add(coin5)\r\n\r\n        coinsInitialized = true\r\n    }\r\n\r\n\r\n    fun newGame() {\r\n        pacx = 50\r\n        pacy = 400 //just some starting coordinates - you can change this.\r\n\r\n        //reset the points\r\n        coinsInitialized = false\r\n        points = 0\r\n        pointsView.text = \"${context.resources.getString(R.string.points)} $points\"\r\n\r\n        initializeGoldcoins()\r\n\r\n        gameView.invalidate() //redraw screen\r\n\r\n    }\r\n    fun setSize(h: Int, w: Int) {\r\n        this.h = h\r\n        this.w = w\r\n    }\r\n\r\n    fun moveRight(pixels: Int) {\r\n        //still within our boundaries?\r\n        // right boundary\r\n        if (pacx + pixels + pacBitmap.width < w)\r\n            pacx += pixels\r\n        gameView.invalidate()//redraw everything\r\n    }\r\n\r\n    fun moveLeft(pixels: Int){\r\n        // left boundary\r\n        // if location + pixels added + size of pacman > 0 + size of pacman\r\n        if(pacx - pixels + pacBitmap.width > 0 + pacBitmap.width)\r\n            pacx -= pixels\r\n        gameView.invalidate()//redraw everything\r\n    }\r\n\r\n    fun moveUp(pixels: Int){\r\n        // Upper boundary\r\n        if (pacy - pixels + pacBitmap.height > 0 + pacBitmap.height)\r\n            pacy -= pixels\r\n        gameView.invalidate()//redraw everything\r\n    }\r\n\r\n    fun moveDown(pixels: Int){\r\n        // bottom boundary\r\n        if (pacy + pixels + pacBitmap.height < h)\r\n            pacy += pixels\r\n        gameView.invalidate()//redraw everything\r\n    }\r\n\r\n\r\n\r\n    //TODO check if the pacman touches a gold coin\r\n    //and if yes, then update the neccesseary data\r\n    //for the gold coins and the points\r\n    //so you need to go through the arraylist of goldcoins and\r\n    //check each of them for a collision with the pacman\r\n    fun doCollisionCheck() {\r\n        fun distance(x1:Int,y1:Int,x2:Int,y2:Int) : Float {\r\n            // calculate distance and return it\r\n            var dx : Double = (x2-x1).toDouble()\r\n            var dy : Double = (y2-y1).toDouble()\r\n            return sqrt(Math.pow(dx, 2.0) + Math.pow(dy, 2.0)).toFloat()\r\n        }\r\n\r\n        var pacCenter = pacBitmap.height/2\r\n        var coinCenter = coinBitmap.height/2\r\n\r\n        for(coin in coins){\r\n            if (distance(pacx + pacCenter,pacy + pacCenter,coin.coinx + coinCenter,coin.coiny + coinCenter) < 20){\r\n                coin.isTaken = true\r\n            }\r\n        }\r\n\r\n        if(coins.filter{it.isTaken}.isNullOrEmpty()){\r\n            //running = false\r\n        }\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/org/pondar/pacmankotlin/Game.kt b/app/src/main/java/org/pondar/pacmankotlin/Game.kt
--- a/app/src/main/java/org/pondar/pacmankotlin/Game.kt	(revision 493049b1866ae232c2a3fd7830b9b09cc364f94e)
+++ b/app/src/main/java/org/pondar/pacmankotlin/Game.kt	(date 1633690984957)
@@ -3,6 +3,7 @@
 import android.content.Context
 import android.graphics.Bitmap
 import android.graphics.BitmapFactory
+import android.icu.lang.UCharacter.IndicPositionalCategory.RIGHT
 import android.widget.TextView
 import java.lang.Math.random
 import java.lang.Math.sqrt
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"DesignSurface\">\r\n    <option name=\"filePathToZoomLevelMap\">\r\n      <map>\r\n        <entry key=\"..\\:/Users/Joshua/Documents/GitHub/PacmanKotlin/app/src/main/res/layout/activity_main.xml\" value=\"0.2463768115942029\" />\r\n        <entry key=\"..\\:/Users/Joshua/Documents/GitHub/PacmanKotlin/app/src/main/res/menu/main.xml\" value=\"0.25052083333333336\" />\r\n        <entry key=\"..\\:/Users/makn/AndroidStudioProjects/course2019kotlin/PacmanKotlin/app/src/main/res/menu/main.xml\" value=\"0.1\" />\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_11\" project-jdk-name=\"1.8\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/build/classes\" />\r\n  </component>\r\n  <component name=\"ProjectType\">\r\n    <option name=\"id\" value=\"Android\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/misc.xml b/.idea/misc.xml
--- a/.idea/misc.xml	(revision 493049b1866ae232c2a3fd7830b9b09cc364f94e)
+++ b/.idea/misc.xml	(date 1634046226538)
@@ -3,8 +3,7 @@
   <component name="DesignSurface">
     <option name="filePathToZoomLevelMap">
       <map>
-        <entry key="..\:/Users/Joshua/Documents/GitHub/PacmanKotlin/app/src/main/res/layout/activity_main.xml" value="0.2463768115942029" />
-        <entry key="..\:/Users/Joshua/Documents/GitHub/PacmanKotlin/app/src/main/res/menu/main.xml" value="0.25052083333333336" />
+        <entry key="..\:/Users/Baruani Lukanda/Documents/Mobile Application Development/PacmanKotlin Project/app/src/main/res/layout/activity_main.xml" value="0.1118659420289855" />
         <entry key="..\:/Users/makn/AndroidStudioProjects/course2019kotlin/PacmanKotlin/app/src/main/res/menu/main.xml" value="0.1" />
       </map>
     </option>
